#!/usr/bin/env ruby
$LOAD_PATH << File.dirname(__FILE__) + '/../lib'
require 'stone'

reader = Stone::LineNumberReader.new(ARGV[0])
lexer  = Stone::Lexer.new(reader)
parser = Stone::ExprParser.new(lexer)
tree = parser.program
puts tree.class
puts tree

basic_env = Stone::BasicEnv.new
r = tree.eval(basic_env)
print "=>"
p r

